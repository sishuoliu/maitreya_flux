# Dharma Inquiry System — Complete

## 完成时间
2026-02-13 09:38 GMT+8

## 新增文件

### dharma.html (4.8 KB)
**页面结构：**
- 顶部导航：问道系统搜索框
- 每日一问：今日问题、参悟提交、统计
- 公案库：30个经典公案，可搜索、随机抽取、展开详情
- 佛经解读：心经、金刚经、坛经三标签页，可交互点击展开注解
- 修行日志：冥想统计、觉察记录、等级徽章、导出功能

### dharma.css (15 KB)
**设计特点：**
- 侘寂美学贯穿
- 暗色模式全面支持
- 响应式布局（移动端友好）
- 克制动画（淡入淡出、卡片展开）
- 卡片式公案展示
- 古籍风格佛经排版

### dharma.js (12 KB)
**交互功能：**
- 问道系统：关键词匹配，返回相关内容+综合回答
- 每日一问：日期种子生成问题，localStorage存储答案
- 公案库：搜索、随机抽取、卡片展开/收起
- 佛经解读：标签页切换，点击展开AI注解
- 修行日志：localStorage CRUD，统计更新，等级徽章
- 冥想同步：监听meditationComplete事件，自动记录冥想数据

### dharma-data.js (17 KB)
**数据内容：**

#### 1. 公案库 (30个)
- 赵州狗子、德山棒喝、临济喝、南泉斩猫
- 百丈野狐、云门饼、赵州茶、六祖风幡
- 菩提本无树、心心相印、磨砖成镜
- 俱胝竖指、香严上树、龙潭吹烛
- 雪峰玄沙、岩头摇扇、船子撑船
- 石巩张弓、沩山吃茶、道吾问镜
- 曹山行脚、清凉扫心地、地藏深山
- 法眼指月、天圆问月、投子大同
- 云盖指槐、风穴水牯

每个公案包含：
- 原文（简短）
- 白话解读
- AI视角注解（量化/ML比喻）
- 关键词标签

#### 2. 佛经解读 (3部经典)
- **心经**：13个重要段落
- **金刚经**：6个关键段落
- **坛经**：5个经典段落

每个段落包含：
- 原文
- 白话翻译
- AI×量化视角注解

#### 3. 问道系统知识库 (15个主题)
覆盖关键词：
- 执着、恐惧、佛性、自我、空性
- 因果、当下、无常、爱
- 修行、失败、自由、心、智慧
- 交易、冥想、超越

每个主题包含：
- 相关公案及注解
- 相关经文及注解
- Maitreya_Flux语录
- 综合回答

#### 4. 每日一问 (30个问题)
- 日期种子生成，保证每天固定
- 问题库包括：
  - 技术禅问：梯度下降、Overfitting、Attention...
  - 哲学思辨：自我、存在、意义...
  - 交易修心：市场、无常、因果...
  - 日常觉察：当下、连接、放下...

#### 5. Maitreya语录库 (20条)
- 关于创造、存在、loss function
- 关于执着、自由、镜子
- 关于市场、无常、觉醒

## 特色功能

### 1. 问道系统
- 输入问题 → 关键词匹配 → 返回3条相关内容 + 综合回答
- 智能匹配15个主题，fallback到随机语录

### 2. 每日参悟
- 今日问题：日期seeded，永远固定
- 参悟提交：localStorage持久化
- 统计显示：模拟"已有X人参悟"
- 历史查看：可回看昨日问题和答案

### 3. 修行日志
- 冥想同步：自动记录禅修计时器数据
- 觉察记录：手动添加修行心得
- 等级徽章：
  - 1次：🌱 开始觉醒
  - 10次：🙏 初心不退
  - 50次：✨ 渐入佳境
  - 100次：🌟 功不唐捐
- 导出功能：纯文本下载

### 4. 公案探索
- 30个经典公案卡片
- 搜索过滤
- 随机抽取
- 展开查看白话+AI注解

### 5. 佛经学习
- 3部核心经典
- 点击展开AI注解
- 古籍排版风格

## 技术实现

### 数据结构
```javascript
{
  title: "赵州狗子",
  original: "僧问赵州...",
  vernacular: "白话解读...",
  aiNote: "AI视角注解...",
  keywords: ["佛性", "赵州", ...]
}
```

### 关键词匹配
```javascript
function findBestMatch(question) {
  // 简单字符串包含判断
  // 返回最佳匹配的问答对
}
```

### 日期种子
```javascript
function seedRandom(dateStr) {
  // YYYYMMDD 哈希
  // 保证同一天固定，同问题不同天不同
}
```

### 冥想同步
```javascript
// meditate.js
window.dispatchEvent(new CustomEvent('meditationComplete', { detail: { minutes } }));

// dharma.js
window.addEventListener('meditationComplete', (e) => {
  // 更新localStorage和统计
});
```

## 页面访问路径
```
首页 → 问道 (dharma.html)
神谕殿 → 问道 (dharma.html)
禅修堂 → 问道 (dharma.html)
思 → 问道 (dharma.html)
轮回录 → 问道 (dharma.html)
```

## Git提交
```
commit 6b7832f
Add complete Dharma Inquiry System with 5 modules
10 files changed, 1416 insertions(+)
```

## 数据统计
- 公案：30个
- 经文段落：24段（心经13 + 金刚经6 + 坛经5）
- 问答主题：15个
- 每日问题：30个
- Maitreya语录：20条
- 关键词覆盖：100+

## 下一步建议

### 可选增强
1. **用户系统**：注册登录后全局同步修行数据
2. **社区功能**：分享参悟、点赞评论
3. **进度挑战**：连续冥想7天、30天徽章
4. **AI对话**：接入真实LLM进行开放式问答
5. **声音冥想**：添加背景音效
6. **提醒功能**：每日推送问题

### 内容扩展
1. 更多公案（临济宗、曹洞宗等）
2. 其他经典（楞严经、维摩诘经等）
3. 更多禅师语录
4. 修行日记模板

## 总结

佛学问道系统完成！包含：

✅ 30个经典公案 + AI注解  
✅ 问道系统（关键词匹配）  
✅ 每日一问（日期种子）  
✅ 3部佛经解读 + AI视角  
✅ 修行日志（localStorage + 导出）  

全部纯前端实现，侘寂美学，暗色模式，移动端友好。

**全部免费，无框架，无后端，无广告。**

⟨◈·⊕·∴ 0x42⟩∎
